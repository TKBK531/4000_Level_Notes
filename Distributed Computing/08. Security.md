# **ğŸ”’ Security in Distributed Systems**

## **ğŸ¯ Learning Objectives**

- **Security Model**
    - Types of threats
    
- **Basic Techniques**
    - Cryptographic techniques (secrecy, authentication, certificates, access control)
    - Audit trails

- **Encryption Algorithms**Â (Symmetric & Asymmetric)
- **Digital Signatures**
- **Secure System Design**
- **Case Studies**

---

## **ğŸ‘¥ Objects & Principals**
- **Client**: Invocation â†’ Result
- **Principal (User/Process)**: Has authority to perform actions.
- **Object**: Resource (e.g., mailbox, file, web service).
- **Identity of principals**Â is critical for access control.

---

## **ğŸ•µï¸ The Enemy (Threats & Attacks)**
### **Attack Types**
- **Eavesdropping**Â ğŸ§: Stealing private data.
- **Masquerading**Â ğŸ­: Impersonating another user.
- **Message Tampering**Â âœ‚ï¸: Altering messages in transit (MITM attacks).
- **Replaying**Â ğŸ”„: Resending captured messages.
- **Denial of Service (DoS)**Â ğŸ’¥: Flooding resources to block access.

### **Non-Cryptographic Threats**
- **Viruses/Trojans**Â ğŸ¦ : Executed via imported code.
- **Defenses**: Code signing, sandboxing, validation.

---

## **ğŸ” Secure Channels & Cryptography**

### **Ownership of Secrets**
- **Symmetric Keys**: Shared secret (e.g., AES).
- **Asymmetric Keys**: Public/private pairs (e.g., RSA).
- **Authentication**: Proof of secret ownership.

---

## **ğŸ”‘ Key Scenarios**

### **1. Shared Secret Key (Symmetric)**
- Alice encrypts withÂ `KABKABâ€‹`, Bob decrypts withÂ KABKABâ€‹. 
- **Issues**: Key distribution, replay attacks.

### **2. Kerberos-like Authentication**
- Uses tickets (encrypted with server keys).
- Simplified Needham-Schroeder protocol.

### **3. Public Key Authentication**
- Bobâ€™s public keyÂ KBpubKBpubâ€‹â€‹Â from a trusted certificate.
- **Risk**: MITM intercepts key requests.

### **4. Digital Signatures**
1. Alice hashes documentÂ MMÂ â†’Â Digest(M)Digest(M).
2. Encrypts digest with private key:Â {Digest(M)}KApriv{Digest(M)}KAprivâ€‹â€‹.
3. Bob verifies using Aliceâ€™s public key.

- **Threat**: Birthday attack on weak digests (use 128+ bit hashes).

---

## **ğŸ“œ Certificates & Credentials**
### **X.509 Certificate Format**
- **Subject**,Â **Public Key**,Â **Issuer**,Â **Validity Period**.
- **Example**:
  ```
    Certificate: Public Key  
    Name: Bobâ€™s Bank  
    Public Key: [B_pub]  
    Signed by: Fred-The-Banker  
    ```

### **Delegation**
- **Delegation Certificates**: Temporary access rights.    
- **Capabilities**: Keys for restricted operations.

---

## **ğŸ”¢ Cryptographic Algorithms**
### **Symmetric Encryption**
E(K,M)={M}KD(K,{M}K)=ME(K,M)={M}Kâ€‹D(K,{M}Kâ€‹)=M
- **Algorithms**:
    - **TEA**Â (128-bit),Â **DES**Â (56-bit, weak),Â **AES**Â (256-bit).
- **Cipher Block Chaining (CBC)**: XORs plaintext with previous ciphertext.

### **Asymmetric Encryption**

D(Kd,E(Ke,M))=MD(Kdâ€‹,E(Keâ€‹,M))=M

- **RSA**: Based on prime factorization (keys 512â€“2048 bits).
    
- **Trapdoor Function**: Easy to compute, hard to reverse (e.g., multiplying primes).
    

#### **RSA Key Generation**

1. Choose primesÂ PP,Â QQ:
    
    N=PÃ—QZ=(Pâˆ’1)(Qâˆ’1)N=PÃ—QZ=(Pâˆ’1)(Qâˆ’1)
2. PickÂ ddÂ coprime toÂ ZZ, solveÂ eÃ—dâ‰¡1modâ€‰â€‰ZeÃ—dâ‰¡1modZ.
    
3. Encrypt:Â C=Memodâ€‰â€‰NC=MemodN.
    
4. Decrypt:Â M=Cdmodâ€‰â€‰NM=CdmodN.
    

---

## **ğŸ“ Digital Signatures & MACs**

### **Public-Key Signatures**

- Sign:Â Sign(M)={Digest(M)}KprivSign(M)={Digest(M)}Kprivâ€‹â€‹.
    
- Verify: Decrypt withÂ KpubKpubâ€‹Â and compare hashes.
    

### **MACs (Message Authentication Codes)**

- Low-cost alternative using shared keyÂ KK:
    
    MAC(M)=H(M+K)MAC(M)=H(M+K)

---

## **ğŸŒ SSL/TLS (Secure Sockets Layer)**

### **Handshake Protocol**

1. Negotiate cipher suite.
    
2. Exchange certificates.
    
3. Generate session keys:
    
    - KABKABâ€‹Â (encryption),Â MABMABâ€‹Â (MAC).
        

### **Record Protocol**

- Fragment â†’ Compress â†’ Hash â†’ Encrypt â†’ Transmit.
    

---

## **ğŸš€ Summary**

- **Protect**Â resources with access control and secure channels.
    
- **Cryptography**Â enables authentication/secrecy (symmetric/asymmetric).
    
- **Kerberos**Â andÂ **SSL/TLS**Â are key for secure communication.
    

---

### **ğŸ” Key Formulas**

|**Type**|**Formula**|
|---|---|
|**Symmetric Encryption**|E(K,M)={M}KE(K,M)={M}Kâ€‹|
|**RSA Encryption**|C=Memodâ€‰â€‰NC=MemodN|
|**MAC**|MAC(M)=H(M+K)MAC(M)=H(M+K)|

### **âš¡ Performance Table**

|Algorithm|Key Size|Speed (kbytes/sec)|
|---|---|---|
|**AES**|256-bit|700+|
|**RSA**|2048-bit|1â€“7|
|**SHA-256**|256-bit|750|

[[Distributed Guide]]
[[Q & A]]